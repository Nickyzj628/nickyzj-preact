import{i as u,h as c,l as x,y as i,s as f,A as h,b as t,m as p,L as v,t as g}from"./index-BY5sadQB.js";import{T as b}from"./Tabs-DMrAdUU0.js";import{d as z}from"./api-sGwyN5m7.js";function w(){var s;const{id:o}=u(),[a,m]=c(+x().ep),[l,d]=c();i(()=>{o&&z(o).then(e=>{d(e),f(`${e.title} 第${a}话`)})},[]);const r=h(null);return i(()=>{if(!r.current)return;const{current:e}=r;e.volume=localStorage.volume||"0.5",e.onvolumechange=()=>{localStorage.volume=e.volume}},[]),t("div",{className:"bento flex flex-1 flex-wrap gap-3 xl:h-[calc(100vh-9.75rem)]",children:[t("video",{ref:r,src:p(l,a),controls:!0,className:"rounded-xl bg-black xl:flex-1"}),t(b,{names:["选集","聊天"],className:"h-96 rounded-xl bg-zinc-100 p-1.5 transition dark:bg-zinc-700 xl:h-full xl:w-56 2xl:w-72",tabClassName:"!p-0",children:[t("div",{className:"flex flex-1 flex-col gap-1.5 overflow-y-auto",children:(s=l==null?void 0:l.episodes)==null?void 0:s.map((e,n)=>t(v,{href:`?ep=${n+1}`,className:g("text-sm transition hover:duration-0",n+1===a?"text-zinc-800 dark:text-zinc-200":"text-zinc-400 hover:text-zinc-800 dark:text-zinc-500"),onClick:()=>m(n+1),children:e}))}),t("div",{children:"维护中！"})]})]})}export{w as default};
