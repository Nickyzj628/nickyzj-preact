import{y as l,F as g,G as c}from"./index-BAvY3pQe.js";const b=(d,i={})=>{const{reloadDeps:m=[]}=i;l(()=>{const n=d.current;if(!n)return;const r=new MutationObserver(s=>{const e=[];s.forEach(o=>{if(!o.addedNodes.length)return;o.addedNodes.forEach(a=>{if(!(a instanceof Element))return;g(a,"img").forEach(t=>{t.classList.contains("medium-zoom-image")||t.classList.contains("no-zoom")||e.push(t)})})});let u=0;const f=async()=>{++u<e.length||e.forEach(o=>{c(o)})};e.forEach(o=>{o.onload=f})});return n.querySelectorAll("img:not(.medium-zoom-image, .no-zoom)").forEach(s=>{c(s)}),r.observe(n,{subtree:!0,childList:!0}),()=>{r.disconnect()}},[...m])};export{b as u};
