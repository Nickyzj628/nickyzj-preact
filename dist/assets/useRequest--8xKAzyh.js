import{f as n,q as w,y as l,C as y,D as m}from"./index-BAvY3pQe.js";const u=new Map,q=(s,i={})=>{const{reloadDeps:f=[]}=i,[o,d]=n(u.get(s)??null),[r,t]=n(null),[g,a]=n(!o),c=w(async()=>{try{a(!0),t(null);const e=await m(s);d(e),u.set(s,e)}catch(e){e instanceof Error?t(e):t(new Error("Unknown error when fetch data using SWR"))}finally{a(!1)}},[]);return l(()=>{c()},[...f]),l(()=>{r&&y.error(r.message)},[r]),{data:o,error:r,loading:g,reload:c}};export{q as u};
