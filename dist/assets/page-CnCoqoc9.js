import{i as h,w as p,j as g,T as v,x as z,y as d,s as N,A as b,u as e,z as x,L as k,B as y,a as w,c as L,k as T}from"./index-BAvY3pQe.js";import{T as S}from"./Tabs-GcNR0JzV.js";import{u as $}from"./useRequest--8xKAzyh.js";const r=({children:n})=>e("div",{className:"absolute inset-0 m-auto flex flex-col items-center size-fit text-zinc-400 transition dark:text-zinc-500",children:n}),j=()=>{var m;const{id:n}=h(),i=p(),[C,l]=g(),s=v(()=>z(i).ep??1,[i]),{data:a,loading:f,error:o}=$(`/animes/${n}`);d(()=>{a&&N(`${a.title} 第${s}话`)},[s,a]);const c=b(null);return d(()=>{const t=c.current;t&&(t.volume=localStorage.volume||"0.5",t.onvolumechange=()=>{localStorage.volume=t.volume})},[a]),o?e(r,{children:[e(x,{className:"w-32"}),e("span",{children:o.message}),e("button",{className:"px-8 py-2 mt-5",onClick:()=>l("/animes"),children:"回到列表"})]}):f?e(r,{children:e(k,{})}):a?e(T,{children:[e("video",{ref:c,src:y(a,s),controls:!0,className:"flex-1 2xl:h-full bg-black"}),e(S,{names:["选集","聊天"],className:"w-full xl:w-56 2xl:w-72 max-h-96 p-1.5 rounded-xl bg-zinc-100 transition dark:bg-zinc-700",tabClassName:"p-0",children:[e("div",{className:"flex flex-col gap-1.5 overflow-y-auto",children:(m=a.episodes)==null?void 0:m.map((t,u)=>e(w,{href:`?ep=${u+1}`,className:L("text-sm transition hover:duration-0",u+1===s?"text-zinc-800 dark:text-zinc-200":"text-zinc-400 hover:text-zinc-800 dark:text-zinc-500"),children:t}))}),e("div",{children:"维护中！"})]})]}):e(r,{children:[e(x,{className:"w-32"}),e("span",{children:"空空如也"}),e("button",{className:"px-8 py-2 mt-5",onClick:()=>l("/animes"),children:"回到列表"})]})};export{j as default};
