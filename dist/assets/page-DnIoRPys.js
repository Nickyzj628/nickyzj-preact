import{_ as c,T as j,d as p,q as M,u as e,L as b,a as H,g as y,t as d,c as C,r as _,b as V,e as S,k as T}from"./index-BAvY3pQe.js";import{C as L}from"./Card-CGofTpKP.js";import{T as A,a as N}from"./Title-DOLiCoTG.js";import{u as w}from"./useRequest--8xKAzyh.js";import"./Image-BKAtRhsX.js";const k=t=>c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...t},c("g",{fill:"none"},c("path",{d:"M24 0v24H0V0zM12.6 23.3h-.2v.5h.2v-.5m.3-.2-.2.1v.5l.2.1v-.6m-.8 0v.6h.2v-.5z"}),c("path",{fill:"currentColor",d:"M20 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm0 2H4v14h1l9.2-9.3a1.3 1.3 0 0 1 1.8 0l4 4zm-4.9 6.6L7.8 19H20v-2.5zM7.5 7a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3"}))),g=t=>c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...t},c("g",{fill:"none"},c("path",{d:"M24 0v24H0V0zM12.6 23.3h-.2v.5h.2v-.5m.3-.2-.2.1v.5l.2.1v-.6m-.8 0v.6h.2v-.5z"}),c("path",{fill:"currentColor",d:"M20 6a2 2 0 0 1 2 2v11.3a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2zm-8.3 8-4.6 4.5v.1H7v.7h13v-.7h-.1l-2.3-2.3-.3.4a1 1 0 0 1-1.3 1.5zM17 3a2 2 0 0 1 2 1.9V5H5a1 1 0 0 0-1 .9V18a2 2 0 0 1-2-1.9V6a3 3 0 0 1 2.8-3H5zm3 5H7v7.8l3.8-3.8a1.3 1.3 0 0 1 1.8 0l3.3 3.2.8-.8a1.3 1.3 0 0 1 1.8 0l1.5 1.4zm-3.5 1.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3"}))),$=["今天","昨天","前天"],f=({className:t,bodyClassName:r,children:s})=>e("div",{className:d("flex flex-col gap-1.5 flex-1",t),children:[e(N,{className:"text-yellow-300",children:"本季新番"}),e("div",{className:d("relative flex flex-col flex-1 p-3 rounded-xl bg-zinc-100 text-zinc-400 overflow-x-hidden transition dark:bg-zinc-800 dark:text-zinc-500",r),children:s})]}),B=({className:t})=>{const{data:r,loading:s,error:l}=w("/animes"),o=j(()=>{if(!r)return[];const i=p();return r.animes.reduce((n,z)=>{const m=i.diff(p(z.updated),"day");return m>30||(n[m]||(n[m]=[]),n[m].push({...z,diffDay:m})),n},[]).filter(Boolean)},[r]),x=o.length===0,a=M(i=>i>=$.length?`${i}天前`:$[i],[]);return l?e(f,{className:t,bodyClassName:"items-center justify-center",children:e("figcaption",{className:"text-center",children:[e(g,{className:"w-32"}),e("figure",{children:l.message})]})}):s?e(f,{className:t,bodyClassName:"items-center justify-center",children:e(b,{})}):x?e(f,{className:t,bodyClassName:"items-center justify-center",children:e("figcaption",{className:"text-center",children:[e(g,{className:"w-32"}),e("figure",{children:"空空如也"})]})}):e(f,{className:t,children:o.map(i=>e(A,{time:a(i[0].diffDay),children:i.map(n=>e(H,{href:`/animes/${n.id}?ep=${n.eps}`,children:e(L,{image:y(`/animes/${n.id}.webp`),title:n.title,description:`第${n.eps}话`,className:"max-w-36 aspect-[2/3]",titleClassName:"truncate-2 text-lg"})},n.id))},i[0].diffDay))})},E="_layout_1mapg_1",I={layout:E},h=({className:t,bodyClassName:r,children:s})=>e("div",{className:d(I.layout,"flex flex-col gap-1.5 aspect-[2/3]",t),children:[e(N,{className:"text-red-300",children:"近期文章"}),e("div",{className:d("group relative flex flex-col flex-1 rounded-xl bg-zinc-100 text-zinc-400 overflow-hidden transition dark:text-zinc-500 dark:bg-zinc-800",r),children:s})]}),q=({className:t})=>{const{data:r,loading:s,error:l}=w("/blogs"),o=j(()=>r?r.blogs.filter(a=>a.visibility===1).slice(0,3):[],[r]),x=o.length===0;return l?e(h,{className:t,bodyClassName:"items-center justify-center",children:e("figcaption",{className:"text-center",children:[e(g,{className:"w-32"}),e("figure",{children:l.message})]})}):s?e(h,{className:t,bodyClassName:"items-center justify-center",children:e(b,{})}):x?e(h,{className:t,bodyClassName:"items-center justify-center",children:e("figcaption",{className:"text-center",children:[e(g,{className:"w-32"}),e("figure",{children:"空空如也"})]})}):e(h,{className:t,children:o.map((a,i)=>e(H,{href:`/blogs/${a.id}`,className:C("block flex-1 w-full bg-zinc-200 bg-center bg-cover hover:no-underline",i===0?"brightness-100":"brightness-50 hover:brightness-100"),style:{backgroundImage:`url(${y(`/blogs/${a.id}.webp`)}), url(${y("/default.webp")})`},children:e("div",{className:C("flex flex-col items-center justify-center size-full p-3 bg-black/40"),children:[e("h4",{className:"text-balance text-center text-white",children:a.title}),e("span",{className:"text-sm text-white transition dark:text-zinc-200",children:_(p(parseInt(a.id,36)).fromNow())})]})},a.id))})},u=({className:t,bodyClassName:r,children:s})=>e("div",{className:d("relative flex flex-col gap-1.5 aspect-[2/3]",t),children:[e(N,{className:"text-blue-300",children:"每日一句"}),e("div",{className:d("relative flex flex-1 rounded-xl bg-zinc-100 text-zinc-400 overflow-hidden transition dark:text-zinc-500 dark:bg-zinc-800",r),children:s})]}),P=({className:t})=>{const{data:r,loading:s,error:l}=w("/shanbay"),o=!(r!=null&&r.content);return l?e(u,{className:t,bodyClassName:"items-center justify-center",children:e("figcaption",{className:"text-center",children:[e(k,{className:"w-32"}),e("figure",{children:l.message})]})}):s?e(u,{className:t,bodyClassName:"items-center justify-center",children:e(b,{})}):o?e(u,{className:t,bodyClassName:"items-center justify-center",children:e("figcaption",{className:"text-center",children:[e(k,{className:"w-32"}),e("figure",{children:"空空如也"})]})}):e(u,{className:t,bodyClassName:"bg-transparent dark:bg-transparent",children:e(L,{image:r.image,title:r.content,description:r.translation,extra:`-- ${r.author}`,className:"flex-1 hover:scale-[0.98]",contentClassName:"pb-5",extraClassName:"text-right"})})},D="_section_3x2q4_2",v={section:D},F=()=>{const[t]=V();return e(T,{children:[e("div",{className:"w-full",children:[e("h4",{className:"text-zinc-500 dark:text-zinc-500",children:[S(),"好，欢迎回来："]}),e("h1",{children:t.name})]}),e(P,{className:v.section}),e(q,{className:v.section}),e(B,{className:v.section})]})};export{F as default};
